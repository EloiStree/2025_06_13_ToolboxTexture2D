#pragma kernel CSMain

Texture2D<uint4> Source;
AppendStructuredBuffer<int2> ResultBuffer;

[numthreads(8, 8, 1)]
void CSMain(uint3 id : SV_DispatchThreadID)
{
    uint4 color = Source.Load(int3(id.xy, 0));
    if (color.x != 0 || color.y != 0 || color.z != 0)
    {
        ResultBuffer.Append(int2(id.x, id.y));
    }
}
